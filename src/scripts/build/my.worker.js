var c=class{constructor(){this.tree={};this.proxy={};this.refs={};this.imports={};this.forms={};this.pure={};this.params={}}},m=(t,r)=>{typeof r=="string"&&(r=r.split("."));let o=r.shift();return o?m(t[o],r):t},h=(t,r,o)=>{typeof r=="string"&&(r=r.split("."));let e=r.shift();e&&(r.length>1?m(t[e],r):t[e]=o)},f=class extends c{constructor(){super();this.proxy_callback=(o,e,i,n)=>{let s=document.querySelectorAll(`[proxy_data="${i}"]`);console.log(s,i),s.forEach(l=>{l.textContent=m(this.proxy,l.getAttribute("proxy_data")||"")})}}set_imports(){document.querySelectorAll("script[ref_href_lib]").forEach(e=>{this.imports[e.getAttribute("ref_href_lib")||""]=window[e.getAttribute("name_href_lib")||""]})}deep_proxy(o,e){let i={get:(n,s,l)=>{let a=Reflect.get(n,s,l);return typeof a=="object"&&a!==null?this.deep_proxy(a,e):a},set:(n,s,l)=>(h(n,s,l),console.log(n,s,l),e(o,n,s,l),!0)};return new Proxy(this.proxy,i)}set_refs(){document.querySelectorAll("[ref]").forEach(e=>{this.refs[e.getAttribute("ref")||""]=e})}set_forms(){document.querySelectorAll("div[form]").forEach(e=>{let i=e.getAttribute("form")||"_";this.forms[i]={},e.querySelectorAll("input[data-input]").forEach(s=>{let l=s.getAttribute("name")||"_",a=s.getAttribute("input-proxy");this.forms[i][l]=s,a&&(this.proxy[a]=s.value,s.addEventListener("input",()=>{a&&(this.proxy[a]=s.value)}))})})}set_params(){let e=new URLSearchParams(window.location.search).entries();for(let[i,n]of e)this.params[i.toString()]=n.toString()}init(){return this.set_params(),this.set_imports(),this.set_refs(),this.proxy=this.deep_proxy(this.proxy,this.proxy_callback),this.set_forms(),this}$on_event(o,e,i){let n=document.querySelector(o);this.tree[o]||(this.tree[o]={}),n?.addEventListener(e,()=>{i({self:n,item:this.tree[o],proxy:this.proxy,refs:this.refs,imports:this.imports,forms:this.forms,params:this.params})})}},p=new f().init();window.onload=()=>{};p.$on_event("p[v_14bc9e2e]","click",t=>{console.log("pyks"),console.log(t),console.log(t.item),console.log(t.self),console.log(t.proxy),console.log(t.proxy),t.proxy.little="ok",console.log(t.imports.crypto.SHA256("Message").toString()),t.proxy.tg="10"});p.$on_event("input[v_01f7dd86]","input",()=>{console.log("dupa")});p.$on_event("p[v_9150ae76]","click",t=>{console.log("pyk"),console.log(t),console.log(t.item),console.log(t.proxy),t.imports.axios({method:"post",url:"localhost",data:{kupa:"dupa"}})});
//# sourceMappingURL=my.worker.js.map

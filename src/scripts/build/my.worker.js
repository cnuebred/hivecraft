var l=class{constructor(){this.tree={};this.proxy={};this.refs={};this.imports={};this.forms={}}},p=class extends l{constructor(){super();this.proxy_callback=(e,t,s,r)=>{document.querySelectorAll(`[proxy_data="${s}"]`).forEach(o=>{o.textContent=this.proxy[o.getAttribute("proxy_data")||""]})}}set_imports(){document.querySelectorAll("script[ref_href_lib]").forEach(t=>{this.imports[t.getAttribute("ref_href_lib")||""]=window[t.getAttribute("name_href_lib")||""]})}deep_proxy(e,t){let s={get:(r,i,o)=>{let c=Reflect.get(r,i,o);return typeof c=="object"&&c!==null?this.deep_proxy(c,t):c},set:(r,i,o)=>(r[i]=o,t(e,r,i,o),!0)};return new Proxy(this.proxy,s)}set_refs(){document.querySelectorAll("[ref]").forEach(t=>{this.refs[t.getAttribute("ref")||""]=t})}set_forms(){document.querySelectorAll("div[form]").forEach(t=>{let s=t.getAttribute("form")||"_";this.forms[s]={},t.querySelectorAll("input[data-input]").forEach(i=>{let o=i.getAttribute("name")||"_";this.forms[s][o]=i})})}init(){return this.set_imports(),this.set_refs(),this.set_forms(),this.proxy=this.deep_proxy(this.proxy,this.proxy_callback),this}$on_event(e,t,s){let r=document.querySelector(e);this.tree[e]||(this.tree[e]={}),r?.addEventListener(t,()=>{s({self:r,item:this.tree[e],proxy:this.proxy,refs:this.refs,imports:this.imports})})}},a=new p().init();window.onload=()=>{};a.$on_event("p[v_37fde7c9]","click",n=>{console.log("pyk"),console.log(n.item),console.log(n.proxy)});
//# sourceMappingURL=my.worker.js.map
